# Git Tools

協助自動化 Git 提交與推送流程的工具集，提供符合 [Conventional Commits 規範](https://www.conventionalcommits.org/)的提交訊息產生功能。

## 指令清單

### `/git:commit-push`

自動提交與推送指令，會分析變更內容並考慮提交原子性。

**功能特點：**

- 自動分析工作目錄變更狀態
- 判斷變更是否符合提交原子性
- 若包含多個不相關修改，可分類選擇要提交的檔案
- 產生符合 Conventional Commits 規範的提交訊息
- 支援選擇目標推送分支

**適用場景：**

- 需要精確控制每次提交內容
- 工作目錄包含多個邏輯獨立的修改
- 需要維持提交歷史的清晰度和原子性

### `/git:commit-push-all`

快速提交與推送指令，將所有變更一次性提交。

**功能特點：**

- 無條件提交工作目錄中的所有變更
- 不考慮提交原子性
- 產生綜合所有變更的提交訊息
- 支援選擇目標推送分支

**適用場景：**

- 快速提交所有進行中的工作
- 所有變更都屬於同一個邏輯範疇
- 臨時保存工作進度

## 使用建議

| 情境            | 建議指令                   | 說明                   |
|---------------|------------------------|----------------------|
| 工作目錄有多個不相關的修改 | `/git:commit-push`     | 可以選擇性地提交部分變更，保持提交原子性 |
| 需要分批提交以維持清晰歷史 | `/git:commit-push`     | 可以將變更分類，逐次提交         |
| 所有修改都屬於同一個功能  | `/git:commit-push-all` | 快速提交所有變更，節省操作步驟      |
| 臨時保存工作進度      | `/git:commit-push-all` | 快速提交所有進行中的工作         |

### `/git:resolve-conflict`

Git 衝突解決指令，提供系統化的衝突處理流程。

**功能特點：**

- 自動偵測衝突狀態（rebase 或 merge）
- 列出所有衝突檔案
- 逐一展示衝突內容並提供解決選項
- 完成後自動繼續 rebase 或 merge 流程

**適用場景：**

- 執行 `git rebase` 或 `git merge` 時遇到衝突
- 需要系統化處理多個衝突檔案
- 不確定如何正確解決衝突

## Skills 清單

### `resolving-conflict`

協助解決 Git Rebase 或 Merge 過程中的衝突，提供系統化的衝突解決流程。

**核心功能：**

- 偵測當前的衝突狀態（rebase 或 merge）
- 列出所有衝突的檔案
- 逐個檢視並解決衝突
- 完成 rebase 或 merge 流程

**使用方式：**

在 Claude Code 中呼叫：
```
請使用 resolving-conflict skill 幫我解決衝突
```

**適用場景：**

- 執行 `git rebase` 時遇到衝突
- 執行 `git merge` 時遇到衝突
- 需要系統化地處理多個衝突檔案
- 不確定如何正確解決衝突

### `tbd-flow`

協助在 Git 上實踐 Trunk Based Development（主幹開發）工作流程。

**核心功能：**

- 支援兩種 TBD 工作模式：直接在主幹提交或使用短期功能分支
- 提供完整的功能開發流程指引
- 強調頻繁整合、小批次提交和快速反饋
- 包含 Feature Flags 使用建議
- 提供與 Git Flow 的對比說明

**使用方式：**

在 Claude Code 中呼叫：
```
請使用 tbd-flow skill 協助我進行主幹開發
```

**適用場景：**

- 團隊採用 Trunk Based Development 工作模式
- 需要頻繁整合到主幹分支
- 使用短期功能分支（< 1 天）
- 需要 Feature Flags 來控制未完成功能
- 重視持續整合和快速反饋的專案

**工作模式：**

1. **直接在主幹提交** - 適合小型修改，立即整合
2. **建立短期分支** - 需要 Code Review，計劃 < 1 天完成
3. **整合現有分支** - 已在功能分支上，準備合併回主幹

## 注意事項

- 兩個指令都會在提交前展示變更內容供確認
- 若分支不存在，會自動建立新分支
- 遇到錯誤時會立即停止並回報
- 建議在提交前先確認變更內容是否正確
